info: Feathers application started on http://localhost:3030
error: Cannot read property 'info' of undefined
info: Feathers application started on http://localhost:3030
info: Successfully logged info
error: Successfully logged info
error: ReferenceError: request_module is not defined
    at /home/pc/Documents/Hackathon/elastic-search/src/services/esindex/esindex.class.js:65:7
    at Object.update (/home/pc/Documents/Hackathon/elastic-search/src/services/esindex/esindex.class.js:64:12)
    at processHooks.call.then.hookObject (/home/pc/Documents/Hackathon/elastic-search/node_modules/@feathersjs/feathers/lib/hooks/index.js:56:27)
    at process._tickCallback (internal/process/next_tick.js:103:7)
error: ReferenceError: request_module is not defined
    at /home/pc/Documents/Hackathon/elastic-search/src/services/esindex/esindex.class.js:65:7
    at Object.update (/home/pc/Documents/Hackathon/elastic-search/src/services/esindex/esindex.class.js:64:12)
    at processHooks.call.then.hookObject (/home/pc/Documents/Hackathon/elastic-search/node_modules/@feathersjs/feathers/lib/hooks/index.js:56:27)
    at process._tickCallback (internal/process/next_tick.js:103:7)
error: undefined
error: 400 - {"error":{"root_cause":[{"type":"resource_already_exists_exception","reason":"index [prod_social_idx/aSbRvDmZQjydGZhhEtWH-g] already exists","index_uuid":"aSbRvDmZQjydGZhhEtWH-g","index":"prod_social_idx"}],"type":"resource_already_exists_exception","reason":"index [prod_social_idx/aSbRvDmZQjydGZhhEtWH-g] already exists","index_uuid":"aSbRvDmZQjydGZhhEtWH-g","index":"prod_social_idx"},"status":400} {"_bitField":18087936,"_fulfillmentHandler0":{"name":"StatusCodeError","statusCode":400,"message":"400 - {\"error\":{\"root_cause\":[{\"type\":\"resource_already_exists_exception\",\"reason\":\"index [prod_social_idx/aSbRvDmZQjydGZhhEtWH-g] already exists\",\"index_uuid\":\"aSbRvDmZQjydGZhhEtWH-g\",\"index\":\"prod_social_idx\"}],\"type\":\"resource_already_exists_exception\",\"reason\":\"index [prod_social_idx/aSbRvDmZQjydGZhhEtWH-g] already exists\",\"index_uuid\":\"aSbRvDmZQjydGZhhEtWH-g\",\"index\":\"prod_social_idx\"},\"status\":400}","error":{"error":{"root_cause":[{"type":"resource_already_exists_exception","reason":"index [prod_social_idx/aSbRvDmZQjydGZhhEtWH-g] already exists","index_uuid":"aSbRvDmZQjydGZhhEtWH-g","index":"prod_social_idx"}],"type":"resource_already_exists_exception","reason":"index [prod_social_idx/aSbRvDmZQjydGZhhEtWH-g] already exists","index_uuid":"aSbRvDmZQjydGZhhEtWH-g","index":"prod_social_idx"},"status":400},"options":{"url":"http://172.31.99.96:9200/prod_social_idx","json":true,"header":{"Content-Type":"application/json"},"body":{"settings":{"number_of_shards":5},"mappings":{"_routing":{"required":true},"properties":{"country_code":{"type":"text"},"social_name":{"type":"text","fields":{"keyword":{"type":"keyword"}}},"search_field":{"type":"text"}}}},"method":"PUT","simple":true,"resolveWithFullResponse":false,"transform2xxOnly":false},"response":{"statusCode":400,"body":{"error":{"root_cause":[{"type":"resource_already_exists_exception","reason":"index [prod_social_idx/aSbRvDmZQjydGZhhEtWH-g] already exists","index_uuid":"aSbRvDmZQjydGZhhEtWH-g","index":"prod_social_idx"}],"type":"resource_already_exists_exception","reason":"index [prod_social_idx/aSbRvDmZQjydGZhhEtWH-g] already exists","index_uuid":"aSbRvDmZQjydGZhhEtWH-g","index":"prod_social_idx"},"status":400},"headers":{"content-type":"application/json; charset=UTF-8","content-length":"401"},"request":{"uri":{"protocol":"http:","slashes":true,"auth":null,"host":"172.31.99.96:9200","port":"9200","hostname":"172.31.99.96","hash":null,"search":null,"query":null,"pathname":"/prod_social_idx","path":"/prod_social_idx","href":"http://172.31.99.96:9200/prod_social_idx"},"method":"PUT","headers":{"accept":"application/json","content-type":"application/json","content-length":224}}}},"name":"StatusCodeError","statusCode":400,"error":{"error":{"root_cause":[{"type":"resource_already_exists_exception","reason":"index [prod_social_idx/aSbRvDmZQjydGZhhEtWH-g] already exists","index_uuid":"aSbRvDmZQjydGZhhEtWH-g","index":"prod_social_idx"}],"type":"resource_already_exists_exception","reason":"index [prod_social_idx/aSbRvDmZQjydGZhhEtWH-g] already exists","index_uuid":"aSbRvDmZQjydGZhhEtWH-g","index":"prod_social_idx"},"status":400},"options":{"url":"http://172.31.99.96:9200/prod_social_idx","json":true,"header":{"Content-Type":"application/json"},"body":{"settings":{"number_of_shards":5},"mappings":{"_routing":{"required":true},"properties":{"country_code":{"type":"text"},"social_name":{"type":"text","fields":{"keyword":{"type":"keyword"}}},"search_field":{"type":"text"}}}},"method":"PUT","simple":true,"resolveWithFullResponse":false,"transform2xxOnly":false},"response":{"statusCode":400,"body":{"error":{"root_cause":[{"type":"resource_already_exists_exception","reason":"index [prod_social_idx/aSbRvDmZQjydGZhhEtWH-g] already exists","index_uuid":"aSbRvDmZQjydGZhhEtWH-g","index":"prod_social_idx"}],"type":"resource_already_exists_exception","reason":"index [prod_social_idx/aSbRvDmZQjydGZhhEtWH-g] already exists","index_uuid":"aSbRvDmZQjydGZhhEtWH-g","index":"prod_social_idx"},"status":400},"headers":{"content-type":"application/json; charset=UTF-8","content-length":"401"},"request":{"uri":{"protocol":"http:","slashes":true,"auth":null,"host":"172.31.99.96:9200","port":"9200","hostname":"172.31.99.96","hash":null,"search":null,"query":null,"pathname":"/prod_social_idx","path":"/prod_social_idx","href":"http://172.31.99.96:9200/prod_social_idx"},"method":"PUT","headers":{"accept":"application/json","content-type":"application/json","content-length":224}}}}
error: undefined
error: undefined
error: undefined
error: undefined
error: undefined
error: 400 - {"error":{"root_cause":[{"type":"invalid_index_name_exception","reason":"Invalid index name [profile_US], must be lowercase","index_uuid":"_na_","index":"profile_US"}],"type":"invalid_index_name_exception","reason":"Invalid index name [profile_US], must be lowercase","index_uuid":"_na_","index":"profile_US"},"status":400} {"_bitField":18087936,"_fulfillmentHandler0":{"name":"StatusCodeError","statusCode":400,"message":"400 - {\"error\":{\"root_cause\":[{\"type\":\"invalid_index_name_exception\",\"reason\":\"Invalid index name [profile_US], must be lowercase\",\"index_uuid\":\"_na_\",\"index\":\"profile_US\"}],\"type\":\"invalid_index_name_exception\",\"reason\":\"Invalid index name [profile_US], must be lowercase\",\"index_uuid\":\"_na_\",\"index\":\"profile_US\"},\"status\":400}","error":{"error":{"root_cause":[{"type":"invalid_index_name_exception","reason":"Invalid index name [profile_US], must be lowercase","index_uuid":"_na_","index":"profile_US"}],"type":"invalid_index_name_exception","reason":"Invalid index name [profile_US], must be lowercase","index_uuid":"_na_","index":"profile_US"},"status":400},"options":{"url":"http://172.31.99.96:9200/profile_US","json":true,"header":{"Content-Type":"application/json"},"body":{},"method":"PUT","simple":true,"resolveWithFullResponse":false,"transform2xxOnly":false},"response":{"statusCode":400,"body":{"error":{"root_cause":[{"type":"invalid_index_name_exception","reason":"Invalid index name [profile_US], must be lowercase","index_uuid":"_na_","index":"profile_US"}],"type":"invalid_index_name_exception","reason":"Invalid index name [profile_US], must be lowercase","index_uuid":"_na_","index":"profile_US"},"status":400},"headers":{"content-type":"application/json; charset=UTF-8","content-length":"323"},"request":{"uri":{"protocol":"http:","slashes":true,"auth":null,"host":"172.31.99.96:9200","port":"9200","hostname":"172.31.99.96","hash":null,"search":null,"query":null,"pathname":"/profile_US","path":"/profile_US","href":"http://172.31.99.96:9200/profile_US"},"method":"PUT","headers":{"accept":"application/json","content-type":"application/json","content-length":2}}}},"name":"StatusCodeError","statusCode":400,"error":{"error":{"root_cause":[{"type":"invalid_index_name_exception","reason":"Invalid index name [profile_US], must be lowercase","index_uuid":"_na_","index":"profile_US"}],"type":"invalid_index_name_exception","reason":"Invalid index name [profile_US], must be lowercase","index_uuid":"_na_","index":"profile_US"},"status":400},"options":{"url":"http://172.31.99.96:9200/profile_US","json":true,"header":{"Content-Type":"application/json"},"body":{},"method":"PUT","simple":true,"resolveWithFullResponse":false,"transform2xxOnly":false},"response":{"statusCode":400,"body":{"error":{"root_cause":[{"type":"invalid_index_name_exception","reason":"Invalid index name [profile_US], must be lowercase","index_uuid":"_na_","index":"profile_US"}],"type":"invalid_index_name_exception","reason":"Invalid index name [profile_US], must be lowercase","index_uuid":"_na_","index":"profile_US"},"status":400},"headers":{"content-type":"application/json; charset=UTF-8","content-length":"323"},"request":{"uri":{"protocol":"http:","slashes":true,"auth":null,"host":"172.31.99.96:9200","port":"9200","hostname":"172.31.99.96","hash":null,"search":null,"query":null,"pathname":"/profile_US","path":"/profile_US","href":"http://172.31.99.96:9200/profile_US"},"method":"PUT","headers":{"accept":"application/json","content-type":"application/json","content-length":2}}}}
error: ReferenceError: request is not defined
    at Object.remove (/home/pc/Documents/Hackathon/elastic-search/src/services/esalias/esalias.class.js:82:23)
    at processHooks.call.then.hookObject (/home/pc/Documents/Hackathon/elastic-search/node_modules/@feathersjs/feathers/lib/hooks/index.js:56:27)
    at process._tickCallback (internal/process/next_tick.js:103:7)
error: ReferenceError: request is not defined
    at Object.remove (/home/pc/Documents/Hackathon/elastic-search/src/services/esalias/esalias.class.js:82:23)
    at processHooks.call.then.hookObject (/home/pc/Documents/Hackathon/elastic-search/node_modules/@feathersjs/feathers/lib/hooks/index.js:56:27)
    at process._tickCallback (internal/process/next_tick.js:103:7)
error: ReferenceError: request is not defined
    at Object.remove (/home/pc/Documents/Hackathon/elastic-search/src/services/esalias/esalias.class.js:82:23)
    at processHooks.call.then.hookObject (/home/pc/Documents/Hackathon/elastic-search/node_modules/@feathersjs/feathers/lib/hooks/index.js:56:27)
    at process._tickCallback (internal/process/next_tick.js:103:7)
error: ReferenceError: request is not defined
    at Object.remove (/home/pc/Documents/Hackathon/elastic-search/src/services/esalias/esalias.class.js:82:23)
    at processHooks.call.then.hookObject (/home/pc/Documents/Hackathon/elastic-search/node_modules/@feathersjs/feathers/lib/hooks/index.js:56:27)
    at process._tickCallback (internal/process/next_tick.js:103:7)
error: Error: Service method 'remove' for 'esalias' service must return a promise
    at processHooks.call.then.hookObject (/home/pc/Documents/Hackathon/elastic-search/node_modules/@feathersjs/feathers/lib/hooks/index.js:59:19)
    at process._tickCallback (internal/process/next_tick.js:103:7)
error: Unhandled Rejection at: Promise  {"_bitField":18087936,"_fulfillmentHandler0":{},"_cancellationParent":{"isFulfilled":true,"isRejected":false,"fulfillmentValue":"{\"prod_social_idx\":{\"aliases\":{\"prod_profile_US\":{\"filter\":{\"term\":{\"country_code\":\"us\"}},\"index_routing\":\"us\",\"search_routing\":\"us\"}}}}"}}
error: TypeError: Cannot read property 'options' of undefined
    at /home/pc/Documents/Hackathon/elastic-search/src/services/esalias/esalias.class.js:99:23
    at tryCatcher (/home/pc/Documents/Hackathon/elastic-search/node_modules/bluebird/js/release/util.js:16:23)
    at Promise._settlePromiseFromHandler (/home/pc/Documents/Hackathon/elastic-search/node_modules/bluebird/js/release/promise.js:517:31)
    at Promise._settlePromise (/home/pc/Documents/Hackathon/elastic-search/node_modules/bluebird/js/release/promise.js:574:18)
    at Promise._settlePromise0 (/home/pc/Documents/Hackathon/elastic-search/node_modules/bluebird/js/release/promise.js:619:10)
    at Promise._settlePromises (/home/pc/Documents/Hackathon/elastic-search/node_modules/bluebird/js/release/promise.js:699:18)
    at _drainQueueStep (/home/pc/Documents/Hackathon/elastic-search/node_modules/bluebird/js/release/async.js:138:12)
    at _drainQueue (/home/pc/Documents/Hackathon/elastic-search/node_modules/bluebird/js/release/async.js:131:9)
    at Async._drainQueues (/home/pc/Documents/Hackathon/elastic-search/node_modules/bluebird/js/release/async.js:147:5)
    at Immediate.Async.drainQueues (/home/pc/Documents/Hackathon/elastic-search/node_modules/bluebird/js/release/async.js:17:14)
    at runCallback (timers.js:566:20)
    at tryOnImmediate (timers.js:546:5)
    at processImmediate [as _immediateCallback] (timers.js:525:5)
error: undefined
error: 404 - {"error":{"root_cause":[{"type":"index_not_found_exception","reason":"no such index [0]","resource.type":"index_or_alias","resource.id":"0","index_uuid":"_na_","index":"0"}],"type":"index_not_found_exception","reason":"no such index [0]","resource.type":"index_or_alias","resource.id":"0","index_uuid":"_na_","index":"0"},"status":404} {"_bitField":18087936,"_fulfillmentHandler0":{"name":"StatusCodeError","statusCode":404,"message":"404 - {\"error\":{\"root_cause\":[{\"type\":\"index_not_found_exception\",\"reason\":\"no such index [0]\",\"resource.type\":\"index_or_alias\",\"resource.id\":\"0\",\"index_uuid\":\"_na_\",\"index\":\"0\"}],\"type\":\"index_not_found_exception\",\"reason\":\"no such index [0]\",\"resource.type\":\"index_or_alias\",\"resource.id\":\"0\",\"index_uuid\":\"_na_\",\"index\":\"0\"},\"status\":404}","error":{"error":{"root_cause":[{"type":"index_not_found_exception","reason":"no such index [0]","resource.type":"index_or_alias","resource.id":"0","index_uuid":"_na_","index":"0"}],"type":"index_not_found_exception","reason":"no such index [0]","resource.type":"index_or_alias","resource.id":"0","index_uuid":"_na_","index":"0"},"status":404},"options":{"url":"http://172.31.99.96:9200/_aliases","json":true,"header":{"Content-Type":"application/json"},"body":{"actions":[{"remove":{"index":"0","alias":"prod_profile_US"}}]},"method":"POST","simple":true,"resolveWithFullResponse":false,"transform2xxOnly":false},"response":{"statusCode":404,"body":{"error":{"root_cause":[{"type":"index_not_found_exception","reason":"no such index [0]","resource.type":"index_or_alias","resource.id":"0","index_uuid":"_na_","index":"0"}],"type":"index_not_found_exception","reason":"no such index [0]","resource.type":"index_or_alias","resource.id":"0","index_uuid":"_na_","index":"0"},"status":404},"headers":{"content-type":"application/json; charset=UTF-8","content-length":"335"},"request":{"uri":{"protocol":"http:","slashes":true,"auth":null,"host":"172.31.99.96:9200","port":"9200","hostname":"172.31.99.96","hash":null,"search":null,"query":null,"pathname":"/_aliases","path":"/_aliases","href":"http://172.31.99.96:9200/_aliases"},"method":"POST","headers":{"accept":"application/json","content-type":"application/json","content-length":64}}}},"name":"StatusCodeError","statusCode":404,"error":{"error":{"root_cause":[{"type":"index_not_found_exception","reason":"no such index [0]","resource.type":"index_or_alias","resource.id":"0","index_uuid":"_na_","index":"0"}],"type":"index_not_found_exception","reason":"no such index [0]","resource.type":"index_or_alias","resource.id":"0","index_uuid":"_na_","index":"0"},"status":404},"options":{"url":"http://172.31.99.96:9200/_aliases","json":true,"header":{"Content-Type":"application/json"},"body":{"actions":[{"remove":{"index":"0","alias":"prod_profile_US"}}]},"method":"POST","simple":true,"resolveWithFullResponse":false,"transform2xxOnly":false},"response":{"statusCode":404,"body":{"error":{"root_cause":[{"type":"index_not_found_exception","reason":"no such index [0]","resource.type":"index_or_alias","resource.id":"0","index_uuid":"_na_","index":"0"}],"type":"index_not_found_exception","reason":"no such index [0]","resource.type":"index_or_alias","resource.id":"0","index_uuid":"_na_","index":"0"},"status":404},"headers":{"content-type":"application/json; charset=UTF-8","content-length":"335"},"request":{"uri":{"protocol":"http:","slashes":true,"auth":null,"host":"172.31.99.96:9200","port":"9200","hostname":"172.31.99.96","hash":null,"search":null,"query":null,"pathname":"/_aliases","path":"/_aliases","href":"http://172.31.99.96:9200/_aliases"},"method":"POST","headers":{"accept":"application/json","content-type":"application/json","content-length":64}}}}
error: undefined
error: 404 - {"error":{"root_cause":[{"type":"index_not_found_exception","reason":"no such index [0]","resource.type":"index_or_alias","resource.id":"0","index_uuid":"_na_","index":"0"}],"type":"index_not_found_exception","reason":"no such index [0]","resource.type":"index_or_alias","resource.id":"0","index_uuid":"_na_","index":"0"},"status":404} {"_bitField":18087936,"_fulfillmentHandler0":{"name":"StatusCodeError","statusCode":404,"message":"404 - {\"error\":{\"root_cause\":[{\"type\":\"index_not_found_exception\",\"reason\":\"no such index [0]\",\"resource.type\":\"index_or_alias\",\"resource.id\":\"0\",\"index_uuid\":\"_na_\",\"index\":\"0\"}],\"type\":\"index_not_found_exception\",\"reason\":\"no such index [0]\",\"resource.type\":\"index_or_alias\",\"resource.id\":\"0\",\"index_uuid\":\"_na_\",\"index\":\"0\"},\"status\":404}","error":{"error":{"root_cause":[{"type":"index_not_found_exception","reason":"no such index [0]","resource.type":"index_or_alias","resource.id":"0","index_uuid":"_na_","index":"0"}],"type":"index_not_found_exception","reason":"no such index [0]","resource.type":"index_or_alias","resource.id":"0","index_uuid":"_na_","index":"0"},"status":404},"options":{"url":"http://172.31.99.96:9200/_aliases","json":true,"header":{"Content-Type":"application/json"},"body":{"actions":[{"remove":{"index":"0","alias":"prod_profile_US"}}]},"method":"POST","simple":true,"resolveWithFullResponse":false,"transform2xxOnly":false},"response":{"statusCode":404,"body":{"error":{"root_cause":[{"type":"index_not_found_exception","reason":"no such index [0]","resource.type":"index_or_alias","resource.id":"0","index_uuid":"_na_","index":"0"}],"type":"index_not_found_exception","reason":"no such index [0]","resource.type":"index_or_alias","resource.id":"0","index_uuid":"_na_","index":"0"},"status":404},"headers":{"content-type":"application/json; charset=UTF-8","content-length":"335"},"request":{"uri":{"protocol":"http:","slashes":true,"auth":null,"host":"172.31.99.96:9200","port":"9200","hostname":"172.31.99.96","hash":null,"search":null,"query":null,"pathname":"/_aliases","path":"/_aliases","href":"http://172.31.99.96:9200/_aliases"},"method":"POST","headers":{"accept":"application/json","content-type":"application/json","content-length":64}}}},"name":"StatusCodeError","statusCode":404,"error":{"error":{"root_cause":[{"type":"index_not_found_exception","reason":"no such index [0]","resource.type":"index_or_alias","resource.id":"0","index_uuid":"_na_","index":"0"}],"type":"index_not_found_exception","reason":"no such index [0]","resource.type":"index_or_alias","resource.id":"0","index_uuid":"_na_","index":"0"},"status":404},"options":{"url":"http://172.31.99.96:9200/_aliases","json":true,"header":{"Content-Type":"application/json"},"body":{"actions":[{"remove":{"index":"0","alias":"prod_profile_US"}}]},"method":"POST","simple":true,"resolveWithFullResponse":false,"transform2xxOnly":false},"response":{"statusCode":404,"body":{"error":{"root_cause":[{"type":"index_not_found_exception","reason":"no such index [0]","resource.type":"index_or_alias","resource.id":"0","index_uuid":"_na_","index":"0"}],"type":"index_not_found_exception","reason":"no such index [0]","resource.type":"index_or_alias","resource.id":"0","index_uuid":"_na_","index":"0"},"status":404},"headers":{"content-type":"application/json; charset=UTF-8","content-length":"335"},"request":{"uri":{"protocol":"http:","slashes":true,"auth":null,"host":"172.31.99.96:9200","port":"9200","hostname":"172.31.99.96","hash":null,"search":null,"query":null,"pathname":"/_aliases","path":"/_aliases","href":"http://172.31.99.96:9200/_aliases"},"method":"POST","headers":{"accept":"application/json","content-type":"application/json","content-length":64}}}}
